/*! 
jasmineFixtures 0.3 2017-12-22T17:13:08.371Z
Copyright 2017 Massimo Foti (massimo@massimocorner.com)
Licensed under the Apache License, Version 2.0 | http://www.apache.org/licenses/LICENSE-2.0
 */
if("undefined"==typeof jQuery)throw"Unable to find jQuery";void 0===window.jasmineFixtures&&(window.jasmineFixtures={}),function(){"use strict";jasmineFixtures.version="0.3";var config={basePath:"fixtures/",containerId:"jasmine-fixtures"},styleNodes=[];jasmineFixtures.cache={},jasmineFixtures.clearCache=function(){jasmineFixtures.cache={}},jasmineFixtures.clearCSS=function(){styleNodes.forEach(function(element){element.remove()})},jasmineFixtures.clearHTML=function(){getContainer().remove()},jasmineFixtures.appendCSS=function(path){jasmineFixtures.preload(path),appendStyle(readFromCache(path))},jasmineFixtures.appendHTML=function(path){jasmineFixtures.preload(path),appendToContainer(readFromCache(path))},jasmineFixtures.loadCSS=function(path){jasmineFixtures.preload(path),jasmineFixtures.clearCSS(),appendStyle(readFromCache(path))},jasmineFixtures.loadHTML=function(path){jasmineFixtures.preload(path),loadIntoContainer(readFromCache(path))},jasmineFixtures.preload=function(path){"string"===jQuery.type(path)&&(path=[path]),path.forEach(function(element){var fullUrl=assembleUrl(element);"undefined"===jQuery.type(jasmineFixtures.cache[fullUrl])&&readIntoCache(fullUrl)})},jasmineFixtures.read=function(path){return jasmineFixtures.preload(path),readFromCache(path)},jasmineFixtures.setCSS=function(css){jasmineFixtures.clearCSS(),appendStyle(css)},jasmineFixtures.setHTML=function(html){loadIntoContainer(html)},jasmineFixtures.setup=function(options){return jQuery.extend(config,options),"/"!==config.basePath[config.basePath.length-1]&&(config.basePath+="/"),config};var appendStyle=function(css){var cssNode=jQuery("<style>");cssNode.text(css),styleNodes.push(cssNode),jQuery("head").append(cssNode)},appendToContainer=function(html){getContainer().append(html)},assembleUrl=function(path){return config.basePath+path},getContainer=function(){var currentContainer=jQuery("body").find("#"+config.containerId);if(0!==currentContainer.length)return currentContainer;var container=jQuery("<div>");return container.attr("id",config.containerId),jQuery("body").append(container),container},loadIntoContainer=function(html){var container=getContainer();container.empty(),container.append(html)},readFromCache=function(path){return jasmineFixtures.cache[assembleUrl(path)]},readIntoCache=function(url){jQuery.ajax({url:url,async:!1,cache:!1}).done(function(data){jasmineFixtures.cache[url]=data}).fail(function(jqXHR){throw"Failed to retrieve fixture at: "+url+" (status: "+jqXHR.status+")"})}}(),jasmine.getEnv().afterEach(function(){"use strict";jasmineFixtures.clearCSS(),jasmineFixtures.clearHTML()});
//# sourceMappingURL=jasmineFixtures.min.js.map
